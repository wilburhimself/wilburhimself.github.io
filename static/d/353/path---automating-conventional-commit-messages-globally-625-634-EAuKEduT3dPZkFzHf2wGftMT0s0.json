{"data":{"site":{"siteMetadata":{"title":"Rants & Ramblings","author":"Wilbur Suero"}},"markdownRemark":{"id":"bd2037e8-87d5-51d9-8c24-aead162fe2e6","excerpt":"I am always looking for ways to make me a better developer. This not only includes coding and programming skills, but also improving  the process of coding and…","html":"<p>I am always looking for ways to make me a better developer. This not only includes coding and programming skills, but also improving  the process of coding and automating and streamlining my ways around these processes. One area I have vastly improved is my writing of commit messages.</p>\n<p>One bad habit one usualy takes as a solo developer or under time constraints is to ignore documentation. Missing documentation is not important until it is, then, it is really important.</p>\n<p>That’s one area I’m trying to improve in. Good commit messages are a most often ignored form of documentation, so how do we improve them? I have been reading <a href=\"https://chris.beams.io/posts/git-commit/\">how to write a good commit message</a>, it makes sense and it’s easy to follow and got me where I wanted as far as commit messages matter.</p>\n<p>However I became aware about <a href=\"https://www.conventionalcommits.org/en/v1.0.0-beta.3/\">Conventional Commits</a> thanks to <a href=\"https://dev.to/maxpou/enhance-your-git-log-with-conventional-commits-3ea4\">Enhance your git log with conventional commits</a>. I really liked the article and started writting conventional commits by hand for the last couple of days.</p>\n<p>I wanted to automate the enforcing of commit messages automatically in all my projects. I googled and found the tools I needed to set it up globally for all commit messages:</p>\n<ul>\n<li><a href=\"https://github.com/commitizen/cz-cli\">Commitizen</a> helps writing the conventional commit message</li>\n<li><a href=\"https://github.com/conventional-changelog/commitlint\">Commitlint</a> check each commit for proper format</li>\n<li><a href=\"https://til.hashrocket.com/posts/c89a35a66c-global-git-hooks\">Git global hooks</a> fail if the commit message is not properly formatted</li>\n</ul>\n<h3>Commitizen</h3>\n<p><a href=\"https://github.com/commitizen/cz-cli\">Commitizen</a> is a handy script that prompts and builds the parts of a conventional commit message.</p>\n<p>The first step is to install it: (taken from their README)</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install -g commitizen</code></pre></div>\n<p>Install your prefered commitizen adapter globally, for example <code class=\"language-text\">cz-conventional-changelog</code></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install -g cz-commitizen-changelog</code></pre></div>\n<p>Create a <code class=\"language-text\">.czrc</code> file with the path of the commitizen adapter</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">echo &#39;{ &quot;path&quot;: &quot;cz-conventional-changelog&quot; }&#39; &gt; ~/.czrc</code></pre></div>\n<p>After Commitizen has been installed instead of using <code class=\"language-text\">git commit</code>, you create a commit using <code class=\"language-text\">git cz</code>.</p>\n<p>This launches Commitizen and you’ll be prompted first to select your change type:</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/66acbea655c13856fa359ab8a9129ac5/b60cb/1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 23.197219808861856%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAzklEQVQY032Q2Q6CQAxF590VFAWE4IZxBwElKighbv//Q9d2EBON8eGk5JbpnI6w/Qy99QnmOoUT5LC8M4xlAnOVoh/m8ltxd1AnBfVh+BfRmR9g8OHoAp2qOonRIpTxVtIYRagNgjfV/gbVsn5DudAXCRme4cZ32F5GhhmZ0XDK+TLJ7PC27s6P0KZ72ddmRZ+zMhe8ork6YbS7SYbRVTIgYzd+yMp9HqbL9QvrJtk3x2Ut4Fy0aSr/bL3s2JYH8LuyWXkzH6g4/sf6v3gCLrWSGvDDFqcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"1\"\n        title=\"\"\n        src=\"/static/66acbea655c13856fa359ab8a9129ac5/6255c/1.png\"\n        srcset=\"/static/66acbea655c13856fa359ab8a9129ac5/375dc/1.png 148w,\n/static/66acbea655c13856fa359ab8a9129ac5/6b157/1.png 295w,\n/static/66acbea655c13856fa359ab8a9129ac5/6255c/1.png 590w,\n/static/66acbea655c13856fa359ab8a9129ac5/dcf9c/1.png 885w,\n/static/66acbea655c13856fa359ab8a9129ac5/43c8a/1.png 1180w,\n/static/66acbea655c13856fa359ab8a9129ac5/dc8c4/1.png 1770w,\n/static/66acbea655c13856fa359ab8a9129ac5/b60cb/1.png 2302w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>After the type of commit is selected, you will be asked to fill the subject, body, breaking changes and open issues.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4485a972c37e25995cb12b5709956b91/9921b/2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 34.53551912568306%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABS0lEQVQoz2VR23KCUAzkrQ+9TG2tVVQuFgUUFEERtYiopbZT6/T/P2abRJzp5SGzSeac3WSjaOMM3biAPs5hxS/QgjW6swJP0x06ky3aowx2socz36NJedVdoGonqPspVKofvWdUujHu7RlurSkUKyngZQf00w/4+ZHyT9iLNyFwCM1oK9hfvktuTk5hhBsS3EmvOVxJXesvoDSGKdo0nV42NMpVUm+Qcose8mPVS2WC+mApm/AkFy0fl3pwCmMseEWoNOizlbxCizai3A4ywp2QqkTKFnTKvkFv9DAXEe7ddKJ/oWhRDn99hEMrubR2sP3CYHWQFQ1ap+rMKRLyaYq7XixYsTifCcG1Gf4mNEnVJY/YeCZh7/goNmGvPAbbwcaL+SURr3cm+UmqqP4KrRFfdi/+cc6TMQnbUaOrPlDwRHxdrpn4TPJ3wm9UQ9TTCDIWxQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"2\"\n        title=\"\"\n        src=\"/static/4485a972c37e25995cb12b5709956b91/6255c/2.png\"\n        srcset=\"/static/4485a972c37e25995cb12b5709956b91/375dc/2.png 148w,\n/static/4485a972c37e25995cb12b5709956b91/6b157/2.png 295w,\n/static/4485a972c37e25995cb12b5709956b91/6255c/2.png 590w,\n/static/4485a972c37e25995cb12b5709956b91/dcf9c/2.png 885w,\n/static/4485a972c37e25995cb12b5709956b91/43c8a/2.png 1180w,\n/static/4485a972c37e25995cb12b5709956b91/dc8c4/2.png 1770w,\n/static/4485a972c37e25995cb12b5709956b91/9921b/2.png 1830w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Now that we have installed Commitizen, and it’s working properly, let’s go to next step.</p>\n<h3>Commitlint</h3>\n<p><a href=\"https://github.com/conventional-changelog/commitlint\">Commitlint</a> is a tool that will lint your commit message and verify it adheres to whatever standard you’ve chosen.</p>\n<p>Global explanation is as easy as Commitizen, but there are some required configurations that are not in the README.</p>\n<p>Install the CLI utility and the configuration you want:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install -g @commitlint/cli @commitlint/config-conventional</code></pre></div>\n<p>Create a global config file:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">echo &quot;module.exports = {extends: [&#39;@commitlint/config-conventional&#39;]}&quot; &gt; ~/commitlint.config.js</code></pre></div>\n<p>That’s all there is to it. You can test that it’s installed and working properly by running:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">echo &#39;should fail&#39; | commitlint</code></pre></div>\n<p>And to see a passing example:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">echo &quot;fix(frontend): change button text&quot; | commitlint</code></pre></div>\n<p>Now we are ready to tie all together …</p>\n<h3>Git Hook</h3>\n<p>Commitlint doesn’t do much by itself, until it’s placed in a git hook. It is from inseide this hook that we can fail the commit message if it does not meet the format.</p>\n<p>Like the earlier npm packages, I want this git hook to be applied to all my projects. I already had global git hooks configured so I just added a <code class=\"language-text\">commit-msg</code> file to my global hooks.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">#!/bin/sh\n\ncat $argv[1] | commitlint\n\nif [ $status != 0 ]\n  exit 1\nend\n\nexit 0</code></pre></div>","frontmatter":{"title":"Automating conventional commit messages globally","date":"March 17, 2019"}}},"pageContext":{"slug":"/automating-conventional-commit-messages-globally/","previous":{"fields":{"slug":"/update-redux-form-fields-using-bindactioncreators/"},"frontmatter":{"title":"Updating redux-form fields using bindActionCreators"}},"next":null}}